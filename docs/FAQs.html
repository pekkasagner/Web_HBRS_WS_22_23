<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>(F)AQs</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="css/default.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><b>DAVR</b><br/><p style="font-weight:lighter; font-size:10px">[HBRS WS 2022-23]</p></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="kursbeschreibung.html">
    <span class="fa fa-project-diagram"></span>
     
    Kursbeschreibung
  </a>
</li>
<li>
  <a href="semesterplan.html">
    <span class="fa fa-calendar"></span>
     
    Semesterplan
  </a>
</li>
<li>
  <a href="kursinhalte.html">
    <span class="fa fa-list"></span>
     
    Kursinhalte
  </a>
</li>
<li>
  <a href="praesentation.html">
    <span class="fa fa-chalkboard"></span>
     
    Abschlusspräsentation
  </a>
</li>
<li>
  <a href="FAQs.html">
    <span class="fa fa-question-circle"></span>
     
    (F)AQs
  </a>
</li>
<li>
  <a href="kontakt.html">
    <span class="fa fa-address-book"></span>
     
    Kontakt
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">(F)AQs</h1>
<h4 class="author"></h4>

</div>


<p>Hier werden (häufig) gestellte Fragen und Antworten gesammelt:</p>
<div id="tidytuesday-daten-einlesen" class="section level3">
<h3>TidyTuesday-Daten einlesen</h3>
<div id="das-problem" class="section level4">
<h4>Das Problem:</h4>
<p>Nach dem Einlesen, können die Daten nicht mit den üblichen Befehlen
bearbeitet werden:</p>
<pre class="r"><code>library(tidyverse) 
library(tidytuesdayR)

daten &lt;- tidytuesdayR::tt_load(2022, week = 2)</code></pre>
<pre><code>## 
##  Downloading file 1 of 2: `colony.csv`
##  Downloading file 2 of 2: `stressor.csv`</code></pre>
</div>
<div id="die-lösung" class="section level4">
<h4>Die Lösung</h4>
<p>TidyTuesday-Daten bestehen häufig aus mehreren Datensätzen. Mit dem
<code>$</code>-Operator können diese extrahiert werden:</p>
<pre class="r"><code>colony &lt;- daten$colony

stressor &lt;- daten$stressor</code></pre>
<p>Dann können die Objekte wie gewohnt bearbeitet werden:</p>
<pre class="r"><code>colony |&gt; 
          filter(colony_lost &gt; 1000)</code></pre>
<pre><code>## # A tibble: 851 x 10
##     year months        state     colony_n colony_max colony_lost colony_lost_pct
##    &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;        &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;
##  1  2015 January-March Alabama       7000       7000        1800              26
##  2  2015 January-March Arizona      35000      35000        4600              13
##  3  2015 January-March Arkansas     13000      14000        1500              11
##  4  2015 January-March Californ~  1440000    1690000      255000              15
##  5  2015 January-March Colorado      3500      12500        1500              12
##  6  2015 January-March Florida     305000     315000       42000              13
##  7  2015 January-March Georgia     104000     105000       14500              14
##  8  2015 January-March Idaho        81000      88000        3700               4
##  9  2015 January-March Illinois      6000      10500        4200              40
## 10  2015 January-March Indiana       9000       9500        2100              22
## # ... with 841 more rows, and 3 more variables: colony_added &lt;dbl&gt;,
## #   colony_reno &lt;dbl&gt;, colony_reno_pct &lt;dbl&gt;</code></pre>
<p>Im Allgemeinen können Informationen zu den TidyTuesday-Daten im
<em>Hilfefenster</em> angezeigt werden, wenn der Name des Objekts, in
dem die Daten zwischengespeichert wurden, ausgeführt wird. Hier:</p>
<pre class="r"><code>daten</code></pre>
</div>
</div>
<div
id="zahlen-auf-achsen-werden-in-wissenschaftlicher-notation-angezeigt"
class="section level3">
<h3>Zahlen auf Achsen werden in wissenschaftlicher Notation
angezeigt</h3>
<div id="das-problem-1" class="section level4">
<h4>Das Problem:</h4>
<p>In ggplot werden Zahlen auf den Achsen standardmäßig in der
wissenschaftlichen Notation (scientific notation) dargestellt, wenn die
Zahlen groß oder klein werden:</p>
<pre class="r"><code>library(tidyverse)

# Beispieldaten
(daten &lt;- tibble(x = 1:2, y = c(0, 400000))
          )</code></pre>
<pre><code>## # A tibble: 2 x 2
##       x      y
##   &lt;int&gt;  &lt;dbl&gt;
## 1     1      0
## 2     2 400000</code></pre>
<pre class="r"><code># Problemplot
daten |&gt; 
          ggplot(aes(x = x, y = y)) +
          geom_point()</code></pre>
<p><img src="FAQs_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="die-lösung-1" class="section level4">
<h4>Die Lösung</h4>
<p>Das Paket scales bietet eine Funktion <code>number_format()</code>,
mit der dieses Verhalten verändert werden kann:</p>
<pre class="r"><code>daten |&gt; 
          ggplot(aes(x = x, y = y)) +
          geom_point() +
          scale_y_continuous(labels = scales::number_format()) </code></pre>
<p><img src="FAQs_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Zusätzlich kann bei Bedarf das im Deutschen gebräuchliche
Tausendertrennzeichen und das Komma als Dezimaltrennzeichen festgesetzt
werden:</p>
<pre class="r"><code>daten |&gt; 
          ggplot(aes(x = x, y = y)) +
          geom_point() +
          scale_y_continuous(labels = scales::number_format(big.mark = &quot;.&quot;, decimal.mark = &quot;,&quot;))</code></pre>
<p><img src="FAQs_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
</div>
<div id="jahreszahlen-auf-achsen-werden-mit-kommastellen-angezeigt"
class="section level3">
<h3>Jahreszahlen auf Achsen werden mit Kommastellen angezeigt</h3>
<div id="das-problem-2" class="section level4">
<h4>Das Problem:</h4>
<p>Wenn Jahreszahlen nicht explizit als solche definiert sind, werden
diese als Zahlen behandelt, was zur unerwünschten Darstellung von
Kommastallen und “krummen” Jahreszahlen führen kann. Außerdem werden in
der Beschriftung dann Jahre ausgelassen:</p>
<pre class="r"><code>library(tidyverse)

#Daten generieren
(daten &lt;- tibble(year = 2010:2020, 
                 wert = rnorm(n = length(year), mean = 0, sd = 1)
                 )
)</code></pre>
<pre><code>## # A tibble: 11 x 2
##     year   wert
##    &lt;int&gt;  &lt;dbl&gt;
##  1  2010  0.632
##  2  2011  0.738
##  3  2012 -1.23 
##  4  2013  1.18 
##  5  2014  0.682
##  6  2015 -0.466
##  7  2016  0.528
##  8  2017  0.934
##  9  2018 -0.473
## 10  2019 -1.65 
## 11  2020  0.453</code></pre>
<pre class="r"><code># Problemplot
daten |&gt;
          ggplot(aes(x = year, y = wert)) +
          geom_line() +
          geom_point()</code></pre>
<p><img src="FAQs_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="die-lösung-2" class="section level4">
<h4>Die Lösung</h4>
<p>Eine schnelle Lösung ist es, die Labels für die Jahre
“hardzucoden”:</p>
<pre class="r"><code>daten |&gt;
          ggplot(aes(x = year, y = wert)) +
          geom_line() +
          geom_point() +
          scale_x_continuous(breaks = 2010:2020)</code></pre>
<p><img src="FAQs_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Eine allgemeingültigere Lösung ist es, die Jahreszahlen auch in R als
Datum zu hinterlegen und die Darstellung auf den Achsen auf die Jahre zu
beschränken. In diesem Beispiel führt dies zum gleichen Ergebnis:</p>
<pre class="r"><code>daten |&gt;
          mutate(year = paste0(year, &quot;-01-01&quot;)) |&gt; #Jahreszahl um Monat und Tag erweitern
          mutate(year = as.Date(year)) |&gt; #als Datum definieren
          ggplot(aes(x = year, y = wert)) +
          geom_line() +
          geom_point() +
          scale_x_date(date_labels = &quot;%Y&quot;, #nur Jahreszahl anzeigen
                       date_breaks = &quot;1 year&quot;) #Breaks zwischen den Jahren definieren</code></pre>
<p><img src="FAQs_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
